(()=>{(()=>{let v=document.documentElement;v&&(v.classList.remove("no-js"),v.classList.add("js"));let g=document.body,H="themeMode",j=["theme-light","theme-dark"],$=()=>{try{let e=window.localStorage.getItem(H);return e==="dark"||e==="light"?e:null}catch(e){return null}},te=()=>{if(window.matchMedia)try{return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch(e){return"light"}return"light"},R="light",O=(e,{persist:s=!0}={})=>{let t=e==="dark"?"dark":"light";if(v&&(v.classList.remove(...j),v.classList.add(`theme-${t}`),v.setAttribute("data-theme",t)),g&&(g.classList.remove(...j),g.classList.add(`theme-${t}`)),s)try{window.localStorage.setItem(H,t)}catch(r){}R=t,re(t)},c=(e,s=document)=>s.querySelector(e),h=(e,s=document)=>Array.from(s.querySelectorAll(e)),se=e=>typeof e!="string"?"":window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),U=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),C=null,a=c("[data-bg-nav]"),y=c("[data-bg-nav-toggle]"),E=c("[data-bg-nav-overlay]"),F=c("[data-bg-theme-toggle]"),re=e=>{F&&F.setAttribute("aria-pressed",e==="dark"?"true":"false")};(()=>{let e=$(),s=e||te();if(O(s,{persist:!!e}),!e&&window.matchMedia)try{let t=window.matchMedia("(prefers-color-scheme: dark)"),r=i=>{$()||O(i.matches?"dark":"light",{persist:!1})};typeof t.addEventListener=="function"?t.addEventListener("change",r):typeof t.addListener=="function"&&t.addListener(r)}catch(t){}F&&F.addEventListener("click",()=>{O(R==="dark"?"light":"dark",{persist:!0})})})();let Y=e=>{if(!a||e.key!=="Tab")return;let s=h(U,a);if(!s.length)return;let t=s[0],r=s[s.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),r.focus()):!e.shiftKey&&document.activeElement===r&&(e.preventDefault(),t.focus())},I=()=>{!a||!y||(a.classList.remove("is-open"),a.removeAttribute("role"),a.removeAttribute("aria-modal"),a.removeEventListener("keydown",Y),y.setAttribute("aria-expanded","false"),E&&E.classList.remove("is-active"),g&&g.classList.remove("is-nav-open"),C&&typeof C.focus=="function"&&C.focus({preventScroll:!0}))},ne=()=>{if(!a||!y)return;C=document.activeElement,a.classList.add("is-open"),a.setAttribute("role","dialog"),a.setAttribute("aria-modal","true"),a.addEventListener("keydown",Y),y.setAttribute("aria-expanded","true"),E&&E.classList.add("is-active"),g&&g.classList.add("is-nav-open");let e=h(U,a);e.length&&e[0].focus()};y&&a&&y.addEventListener("click",()=>{a.classList.contains("is-open")?I():ne()}),E&&E.addEventListener("click",I),a&&h("a",a).forEach(e=>{e.addEventListener("click",()=>{a.classList.contains("is-open")&&I()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a&&a.classList.contains("is-open")&&I()});let ie=()=>{let e=h("[data-bg-animate]");if(!e.length)return;if(!("IntersectionObserver"in window)){e.forEach(t=>t.classList.add("is-visible"));return}let s=new IntersectionObserver((t,r)=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),r.unobserve(i.target))})},{threshold:.15});e.forEach(t=>s.observe(t))},oe=()=>{document.addEventListener("click",e=>{let s=e.target.closest("[data-bg-scroll]");if(!s)return;let t=s.getAttribute("data-bg-scroll")||s.getAttribute("href");if(!t||!t.startsWith("#"))return;let r=document.querySelector(t);if(!r)return;e.preventDefault();let i=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"}),r.setAttribute("tabindex","-1"),r.focus({preventScroll:!0})})},q=e=>{if(!e)return;let s=e.getAttribute("data-bg-toggle");if(!s)return;let t=c(`[data-bg-target="${se(s)}"]`);t&&(e.checked?t.removeAttribute("hidden"):(t.setAttribute("hidden",""),h("input, select, textarea",t).forEach(r=>{"value"in r&&(r.value="")})))},x=(e,s,t)=>{if(!e)return;if(!s){e.innerHTML="";return}let r=["bg-enrollment-notice"];t&&r.push(`bg-enrollment-notice--${t}`),e.innerHTML=`<div class="${r.join(" ")}">${s}</div>`},ae=()=>{let e=h(".course-sidebar__card--form, .bg-enrollment");e.length&&e.forEach(s=>{let t=c(".bg-enrollment__form",s),r=c(".bg-enrollment__messages",s),i=c(".bg-enrollment__submit",s),u=c("[data-bg-toggle]",t);if(!t||!i)return;let A=i.dataset.defaultLabel||i.textContent||"";u&&(q(u),u.addEventListener("change",()=>q(u))),t.addEventListener("submit",k=>{k.preventDefault();let p=new FormData(t);window.BG_AJAX&&window.BG_AJAX.nonce&&p.append("security",window.BG_AJAX.nonce);let S=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.sending?window.BG_AJAX.messages.sending:A||"";i.disabled=!0,S&&(i.textContent=S),x(r,"");let T=window.BG_AJAX&&window.BG_AJAX.ajax_url||t.getAttribute("action");if(!T){let o=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";x(r,o,"error"),i.disabled=!1,i.textContent=A;return}fetch(T,{method:"POST",body:p,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(async o=>{let l=await o.json().catch(()=>null);if(!o.ok)throw l;return l}).then(o=>{if(o&&o.success){let l=o.data&&o.data.message?o.data.message:"";x(r,l,"success"),t.reset(),u&&(u.checked=!1,q(u))}else{let l=o&&o.data&&o.data.message?o.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";x(r,l,"error")}}).catch(o=>{let l="";o&&o.data&&o.data.message?l=o.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError&&(l=window.BG_AJAX.messages.genericError),x(r,l,"error")}).finally(()=>{i.disabled=!1,i.textContent=A})})})},ce=()=>{let e=c("[data-bg-filter-form]");e&&(h("[data-bg-filter-select]",e).forEach(s=>{s.addEventListener("change",()=>e.submit())}),h("[data-bg-filter-reset]",e).forEach(s=>{s.addEventListener("click",()=>{h("select",e).forEach(r=>{r.value=""});let t=e.getAttribute("action");if(t)window.location.href=t;else{let r=new URL(window.location.href);r.search="",window.location.replace(r.toString())}})}))},le=()=>{let e=c(".site-header");if(!e)return;let s=()=>{if(!g||!g.classList.contains("bg-has-sticky-header")){e.classList.remove("is-condensed");return}(window.pageYOffset||document.documentElement.scrollTop||0)>80?e.classList.add("is-condensed"):e.classList.remove("is-condensed")};s(),window.addEventListener("scroll",s,{passive:!0}),document.addEventListener("bg:navStickyToggle",s)},de=()=>{h("[data-bg-carousel]").forEach(e=>{let s=c("[data-bg-carousel-track]",e);if(!s)return;let t=()=>{let u=c(".bg-card",s);return u?u.getBoundingClientRect().width+24:320},r=c("[data-bg-carousel-prev]",e),i=c("[data-bg-carousel-next]",e);r&&r.addEventListener("click",()=>{s.scrollBy({left:-t(),behavior:"smooth"})}),i&&i.addEventListener("click",()=>{s.scrollBy({left:t(),behavior:"smooth"})})})},ue=()=>{let e=c("[data-bg-sticky-cta]");if(!e)return;let s=c("[data-bg-sticky-cta-button]",e),t=c("[data-bg-sticky-cta-close]",e),r=typeof window.matchMedia=="function"?window.matchMedia("(max-width: 767px)"):null,i=e.getAttribute("data-enabled")==="true",u=e.getAttribute("data-show-desktop")!=="false",A=e.getAttribute("data-show-mobile")!=="false",k=0,p="delay",S=50,T="",o=!1,l=!1,D=null,M=!1,_=null,X=null,W=()=>{let n=parseInt(e.getAttribute("data-delay"),10);return Number.isNaN(n)?0:Math.max(0,n)},Q=()=>{let n=(e.getAttribute("data-trigger")||"").toLowerCase();return n==="scroll"||n==="element"?n:"delay"},P=()=>{let n=parseFloat(e.getAttribute("data-scroll-depth"));return Number.isNaN(n)?50:Math.max(0,Math.min(100,n))},V=()=>{let n=e.getAttribute("data-trigger-selector");return typeof n=="string"?n.trim():""};k=W(),p=Q(),S=P(),T=V();let fe=(n,d)=>{M=!0,e.setAttribute(n,d),setTimeout(()=>{M=!1},0)},G=n=>{M=!0,e.removeAttribute(n),setTimeout(()=>{M=!1},0)},B=()=>r&&r.matches?A:u,w=n=>{n?e.classList.add("sticky-cta--device-hidden"):e.classList.remove("sticky-cta--device-hidden")},J=()=>{_&&(window.removeEventListener("scroll",_),_=null),X&&(X.disconnect(),X=null)},b=(n=!1)=>{window.clearTimeout(D),e.classList.remove("visible"),e.setAttribute("aria-hidden","true"),n&&(J(),fe("hidden","hidden"))},N=()=>{!i||o||!B()||(J(),G("hidden"),e.setAttribute("aria-hidden","false"),w(!1),requestAnimationFrame(()=>{e.classList.add("visible")}),l=!0)},L=()=>{if(window.clearTimeout(D),!i||o){b(!0);return}if(!B()){w(!0),b(!0);return}if(w(!1),G("hidden"),e.setAttribute("aria-hidden","true"),e.classList.remove("visible"),k<=0){N();return}D=window.setTimeout(N,k)},ge=()=>{let n=Math.max(0,Math.min(1,S/100));if(n<=0){L();return}let d=()=>{if(!i||o||l||!B())return;let m=document.documentElement,f=document.body,be=window.scrollY||window.pageYOffset||(m?m.scrollTop:0)||0,we=m?m.scrollHeight:0,ve=f?f.scrollHeight:0,ee=Math.max(we,ve)-window.innerHeight;(ee>0?be/ee:1)>=n&&(J(),L())};_=d;try{window.addEventListener("scroll",_,{passive:!0})}catch(m){window.addEventListener("scroll",_)}d()},me=()=>{let n=T;if(!n){L();return}let d=null;try{d=document.querySelector(n)}catch(m){d=null}if(!d){L();return}if(typeof window.IntersectionObserver!="function"){L();return}X=new IntersectionObserver(m=>{m.forEach(f=>{f.isIntersecting&&(J(),L())})}),X.observe(d)},he=()=>{w(!1),G("hidden"),e.setAttribute("aria-hidden","true"),e.classList.remove("visible")},z=()=>{if(window.clearTimeout(D),J(),!i||o){b(!0);return}if(!B()){w(!0),b(!0);return}if(he(),p==="scroll"){ge();return}if(p==="element"){me();return}L()},Z=()=>{let n=e.getAttribute("data-enabled")==="true";n!==i&&(i=n,i&&(o=!1,l=!1,G("hidden"))),u=e.getAttribute("data-show-desktop")!=="false",A=e.getAttribute("data-show-mobile")!=="false",k=W(),p=Q(),S=P(),T=V();let d=B();if(w(!d),!i||o){b(!0);return}if(!d){b(!0);return}if(G("hidden"),l){e.classList.contains("visible")?e.setAttribute("aria-hidden","false"):N();return}z()};if(Z(),t&&t.addEventListener("click",()=>{o=!0,b(!0)}),s&&s.addEventListener("click",()=>{s.getAttribute("href")&&(o=!0,b(!0))}),new MutationObserver(n=>{let d=!1;n.forEach(m=>{if(m.type!=="attributes")return;let f=m.attributeName;(f==="data-enabled"||f==="data-delay"||f==="data-trigger"||f==="data-scroll-depth"||f==="data-trigger-selector"||f==="data-show-desktop"||f==="data-show-mobile"||f==="hidden")&&(d=!0)}),d&&(M||Z())}).observe(e,{attributes:!0}),r){let n=()=>{if(i){if(!B()){w(!0),b(!0);return}w(!1),!o&&(l?N():z())}};typeof r.addEventListener=="function"?r.addEventListener("change",n):typeof r.addListener=="function"&&r.addListener(n)}},K=()=>{ie(),oe(),ae(),ce(),le(),de(),ue(),g&&(g.classList.remove("bg-ui-loading"),g.classList.add("bg-ui-ready"))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",K):K()})();})();
//# sourceMappingURL=theme.js.map
