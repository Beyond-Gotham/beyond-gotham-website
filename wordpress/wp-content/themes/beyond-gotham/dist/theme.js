(()=>{(()=>{let m=document.documentElement;m&&(m.classList.remove("no-js"),m.classList.add("js"));let c=document.body,k="themeMode",y=["theme-light","theme-dark"],S=()=>{try{let e=window.localStorage.getItem(k);return e==="dark"||e==="light"?e:null}catch(e){return null}},M=()=>{if(window.matchMedia)try{return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch(e){return"light"}return"light"},_="light",p=(e,{persist:s=!0}={})=>{let t=e==="dark"?"dark":"light";if(m&&(m.classList.remove(...y),m.classList.add(`theme-${t}`),m.setAttribute("data-theme",t)),c&&(c.classList.remove(...y),c.classList.add(`theme-${t}`)),s)try{window.localStorage.setItem(k,t)}catch(n){}_=t,F(t)},r=(e,s=document)=>s.querySelector(e),l=(e,s=document)=>Array.from(s.querySelectorAll(e)),q=e=>typeof e!="string"?"":window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),B=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),v=null,o=r("[data-bg-nav]"),h=r("[data-bg-nav-toggle]"),b=r("[data-bg-nav-overlay]"),g=r("[data-bg-theme-toggle]"),T=g?g.querySelector("[data-theme-toggle-label]"):null,F=e=>{if(!g)return;let s=e==="dark"?"light":"dark",t=s==="dark"?"data-dark-label":"data-light-label",n=g.getAttribute("data-toggle-label")||"",u=g.getAttribute(t)||""||(s==="dark"?"Dark":"Light");T&&(T.textContent=u);let L=n?`${n} \u2013 ${u}`.trim():u;L&&g.setAttribute("aria-label",L),g.setAttribute("aria-pressed",e==="dark"?"true":"false")};(()=>{let e=S(),s=e||M();if(p(s,{persist:!!e}),!e&&window.matchMedia)try{let t=window.matchMedia("(prefers-color-scheme: dark)"),n=a=>{S()||p(a.matches?"dark":"light",{persist:!1})};typeof t.addEventListener=="function"?t.addEventListener("change",n):typeof t.addListener=="function"&&t.addListener(n)}catch(t){}g&&g.addEventListener("click",()=>{p(_==="dark"?"light":"dark",{persist:!0})})})();let X=e=>{if(!o||e.key!=="Tab")return;let s=l(B,o);if(!s.length)return;let t=s[0],n=s[s.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),n.focus()):!e.shiftKey&&document.activeElement===n&&(e.preventDefault(),t.focus())},A=()=>{!o||!h||(o.classList.remove("is-open"),o.removeAttribute("role"),o.removeAttribute("aria-modal"),o.removeEventListener("keydown",X),h.setAttribute("aria-expanded","false"),b&&b.classList.remove("is-active"),c&&c.classList.remove("is-nav-open"),v&&typeof v.focus=="function"&&v.focus({preventScroll:!0}))},$=()=>{if(!o||!h)return;v=document.activeElement,o.classList.add("is-open"),o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),o.addEventListener("keydown",X),h.setAttribute("aria-expanded","true"),b&&b.classList.add("is-active"),c&&c.classList.add("is-nav-open");let e=l(B,o);e.length&&e[0].focus()};h&&o&&h.addEventListener("click",()=>{o.classList.contains("is-open")?A():$()}),b&&b.addEventListener("click",A),o&&l("a",o).forEach(e=>{e.addEventListener("click",()=>{o.classList.contains("is-open")&&A()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&o&&o.classList.contains("is-open")&&A()});let R=()=>{let e=l("[data-bg-animate]");if(!e.length)return;if(!("IntersectionObserver"in window)){e.forEach(t=>t.classList.add("is-visible"));return}let s=new IntersectionObserver((t,n)=>{t.forEach(a=>{a.isIntersecting&&(a.target.classList.add("is-visible"),n.unobserve(a.target))})},{threshold:.15});e.forEach(t=>s.observe(t))},j=()=>{document.addEventListener("click",e=>{let s=e.target.closest("[data-bg-scroll]");if(!s)return;let t=s.getAttribute("data-bg-scroll")||s.getAttribute("href");if(!t||!t.startsWith("#"))return;let n=document.querySelector(t);if(!n)return;e.preventDefault();let a=n.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:a,behavior:"smooth"}),n.setAttribute("tabindex","-1"),n.focus({preventScroll:!0})})},E=e=>{if(!e)return;let s=e.getAttribute("data-bg-toggle");if(!s)return;let t=r(`[data-bg-target="${q(s)}"]`);t&&(e.checked?t.removeAttribute("hidden"):(t.setAttribute("hidden",""),l("input, select, textarea",t).forEach(n=>{"value"in n&&(n.value="")})))},w=(e,s,t)=>{if(!e)return;if(!s){e.innerHTML="";return}let n=["bg-enrollment-notice"];t&&n.push(`bg-enrollment-notice--${t}`),e.innerHTML=`<div class="${n.join(" ")}">${s}</div>`},O=()=>{let e=l(".course-sidebar__card--form, .bg-enrollment");e.length&&e.forEach(s=>{let t=r(".bg-enrollment__form",s),n=r(".bg-enrollment__messages",s),a=r(".bg-enrollment__submit",s),d=r("[data-bg-toggle]",t);if(!t||!a)return;let u=a.dataset.defaultLabel||a.textContent||"";d&&(E(d),d.addEventListener("change",()=>E(d))),t.addEventListener("submit",L=>{L.preventDefault();let G=new FormData(t);window.BG_AJAX&&window.BG_AJAX.nonce&&G.append("security",window.BG_AJAX.nonce);let J=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.sending?window.BG_AJAX.messages.sending:u||"";a.disabled=!0,J&&(a.textContent=J),w(n,"");let C=window.BG_AJAX&&window.BG_AJAX.ajax_url||t.getAttribute("action");if(!C){let i=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";w(n,i,"error"),a.disabled=!1,a.textContent=u;return}fetch(C,{method:"POST",body:G,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(async i=>{let f=await i.json().catch(()=>null);if(!i.ok)throw f;return f}).then(i=>{if(i&&i.success){let f=i.data&&i.data.message?i.data.message:"";w(n,f,"success"),t.reset(),d&&(d.checked=!1,E(d))}else{let f=i&&i.data&&i.data.message?i.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";w(n,f,"error")}}).catch(i=>{let f="";i&&i.data&&i.data.message?f=i.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError&&(f=window.BG_AJAX.messages.genericError),w(n,f,"error")}).finally(()=>{a.disabled=!1,a.textContent=u})})})},D=()=>{let e=r("[data-bg-filter-form]");e&&(l("[data-bg-filter-select]",e).forEach(s=>{s.addEventListener("change",()=>e.submit())}),l("[data-bg-filter-reset]",e).forEach(s=>{s.addEventListener("click",()=>{l("select",e).forEach(n=>{n.value=""});let t=e.getAttribute("action");if(t)window.location.href=t;else{let n=new URL(window.location.href);n.search="",window.location.replace(n.toString())}})}))},I=()=>{let e=r(".site-header");if(!e)return;let s=()=>{if(!c||!c.classList.contains("bg-has-sticky-header")){e.classList.remove("is-condensed");return}(window.pageYOffset||document.documentElement.scrollTop||0)>80?e.classList.add("is-condensed"):e.classList.remove("is-condensed")};s(),window.addEventListener("scroll",s,{passive:!0}),document.addEventListener("bg:navStickyToggle",s)},H=()=>{l("[data-bg-carousel]").forEach(e=>{let s=r("[data-bg-carousel-track]",e);if(!s)return;let t=()=>{let d=r(".bg-card",s);return d?d.getBoundingClientRect().width+24:320},n=r("[data-bg-carousel-prev]",e),a=r("[data-bg-carousel-next]",e);n&&n.addEventListener("click",()=>{s.scrollBy({left:-t(),behavior:"smooth"})}),a&&a.addEventListener("click",()=>{s.scrollBy({left:t(),behavior:"smooth"})})})},x=()=>{R(),j(),O(),D(),I(),H(),c&&(c.classList.remove("bg-ui-loading"),c.classList.add("bg-ui-ready"))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",x):x()})();})();
//# sourceMappingURL=theme.js.map
