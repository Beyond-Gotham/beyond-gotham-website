(()=>{(()=>{let v=document.documentElement;v&&(v.classList.remove("no-js"),v.classList.add("js"));let l=document.body,N="themeMode",q=["theme-light","theme-dark"],I=()=>{try{let e=window.localStorage.getItem(N);return e==="dark"||e==="light"?e:null}catch(e){return null}},U=()=>{if(window.matchMedia)try{return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch(e){return"light"}return"light"},D="light",J=(e,{persist:s=!0}={})=>{let t=e==="dark"?"dark":"light";if(v&&(v.classList.remove(...q),v.classList.add(`theme-${t}`),v.setAttribute("data-theme",t)),l&&(l.classList.remove(...q),l.classList.add(`theme-${t}`)),s)try{window.localStorage.setItem(N,t)}catch(n){}D=t,W(t)},o=(e,s=document)=>s.querySelector(e),m=(e,s=document)=>Array.from(s.querySelectorAll(e)),K=e=>typeof e!="string"?"":window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),$=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),x=null,r=o("[data-bg-nav]"),p=o("[data-bg-nav-toggle]"),y=o("[data-bg-nav-overlay]"),h=o("[data-bg-theme-toggle]"),O=h?h.querySelector("[data-theme-toggle-label]"):null,W=e=>{if(!h)return;let s=e==="dark"?"light":"dark",t=s==="dark"?"data-dark-label":"data-light-label",n=h.getAttribute("data-toggle-label")||"",f=h.getAttribute(t)||""||(s==="dark"?"Dark":"Light");O&&(O.textContent=f);let b=n?`${n} \u2013 ${f}`.trim():f;b&&h.setAttribute("aria-label",b),h.setAttribute("aria-pressed",e==="dark"?"true":"false")};(()=>{let e=I(),s=e||U();if(J(s,{persist:!!e}),!e&&window.matchMedia)try{let t=window.matchMedia("(prefers-color-scheme: dark)"),n=i=>{I()||J(i.matches?"dark":"light",{persist:!1})};typeof t.addEventListener=="function"?t.addEventListener("change",n):typeof t.addListener=="function"&&t.addListener(n)}catch(t){}h&&h.addEventListener("click",()=>{J(D==="dark"?"light":"dark",{persist:!0})})})();let R=e=>{if(!r||e.key!=="Tab")return;let s=m($,r);if(!s.length)return;let t=s[0],n=s[s.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),n.focus()):!e.shiftKey&&document.activeElement===n&&(e.preventDefault(),t.focus())},B=()=>{!r||!p||(r.classList.remove("is-open"),r.removeAttribute("role"),r.removeAttribute("aria-modal"),r.removeEventListener("keydown",R),p.setAttribute("aria-expanded","false"),y&&y.classList.remove("is-active"),l&&l.classList.remove("is-nav-open"),x&&typeof x.focus=="function"&&x.focus({preventScroll:!0}))},Q=()=>{if(!r||!p)return;x=document.activeElement,r.classList.add("is-open"),r.setAttribute("role","dialog"),r.setAttribute("aria-modal","true"),r.addEventListener("keydown",R),p.setAttribute("aria-expanded","true"),y&&y.classList.add("is-active"),l&&l.classList.add("is-nav-open");let e=m($,r);e.length&&e[0].focus()};p&&r&&p.addEventListener("click",()=>{r.classList.contains("is-open")?B():Q()}),y&&y.addEventListener("click",B),r&&m("a",r).forEach(e=>{e.addEventListener("click",()=>{r.classList.contains("is-open")&&B()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&r&&r.classList.contains("is-open")&&B()});let Y=()=>{let e=m("[data-bg-animate]");if(!e.length)return;if(!("IntersectionObserver"in window)){e.forEach(t=>t.classList.add("is-visible"));return}let s=new IntersectionObserver((t,n)=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),n.unobserve(i.target))})},{threshold:.15});e.forEach(t=>s.observe(t))},P=()=>{document.addEventListener("click",e=>{let s=e.target.closest("[data-bg-scroll]");if(!s)return;let t=s.getAttribute("data-bg-scroll")||s.getAttribute("href");if(!t||!t.startsWith("#"))return;let n=document.querySelector(t);if(!n)return;e.preventDefault();let i=n.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"}),n.setAttribute("tabindex","-1"),n.focus({preventScroll:!0})})},C=e=>{if(!e)return;let s=e.getAttribute("data-bg-toggle");if(!s)return;let t=o(`[data-bg-target="${K(s)}"]`);t&&(e.checked?t.removeAttribute("hidden"):(t.setAttribute("hidden",""),m("input, select, textarea",t).forEach(n=>{"value"in n&&(n.value="")})))},S=(e,s,t)=>{if(!e)return;if(!s){e.innerHTML="";return}let n=["bg-enrollment-notice"];t&&n.push(`bg-enrollment-notice--${t}`),e.innerHTML=`<div class="${n.join(" ")}">${s}</div>`},V=()=>{let e=m(".course-sidebar__card--form, .bg-enrollment");e.length&&e.forEach(s=>{let t=o(".bg-enrollment__form",s),n=o(".bg-enrollment__messages",s),i=o(".bg-enrollment__submit",s),c=o("[data-bg-toggle]",t);if(!t||!i)return;let f=i.dataset.defaultLabel||i.textContent||"";c&&(C(c),c.addEventListener("change",()=>C(c))),t.addEventListener("submit",b=>{b.preventDefault();let g=new FormData(t);window.BG_AJAX&&window.BG_AJAX.nonce&&g.append("security",window.BG_AJAX.nonce);let w=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.sending?window.BG_AJAX.messages.sending:f||"";i.disabled=!0,w&&(i.textContent=w),S(n,"");let k=window.BG_AJAX&&window.BG_AJAX.ajax_url||t.getAttribute("action");if(!k){let a=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";S(n,a,"error"),i.disabled=!1,i.textContent=f;return}fetch(k,{method:"POST",body:g,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(async a=>{let u=await a.json().catch(()=>null);if(!a.ok)throw u;return u}).then(a=>{if(a&&a.success){let u=a.data&&a.data.message?a.data.message:"";S(n,u,"success"),t.reset(),c&&(c.checked=!1,C(c))}else{let u=a&&a.data&&a.data.message?a.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";S(n,u,"error")}}).catch(a=>{let u="";a&&a.data&&a.data.message?u=a.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError&&(u=window.BG_AJAX.messages.genericError),S(n,u,"error")}).finally(()=>{i.disabled=!1,i.textContent=f})})})},z=()=>{let e=o("[data-bg-filter-form]");e&&(m("[data-bg-filter-select]",e).forEach(s=>{s.addEventListener("change",()=>e.submit())}),m("[data-bg-filter-reset]",e).forEach(s=>{s.addEventListener("click",()=>{m("select",e).forEach(n=>{n.value=""});let t=e.getAttribute("action");if(t)window.location.href=t;else{let n=new URL(window.location.href);n.search="",window.location.replace(n.toString())}})}))},Z=()=>{let e=o(".site-header");if(!e)return;let s=()=>{if(!l||!l.classList.contains("bg-has-sticky-header")){e.classList.remove("is-condensed");return}(window.pageYOffset||document.documentElement.scrollTop||0)>80?e.classList.add("is-condensed"):e.classList.remove("is-condensed")};s(),window.addEventListener("scroll",s,{passive:!0}),document.addEventListener("bg:navStickyToggle",s)},ee=()=>{m("[data-bg-carousel]").forEach(e=>{let s=o("[data-bg-carousel-track]",e);if(!s)return;let t=()=>{let c=o(".bg-card",s);return c?c.getBoundingClientRect().width+24:320},n=o("[data-bg-carousel-prev]",e),i=o("[data-bg-carousel-next]",e);n&&n.addEventListener("click",()=>{s.scrollBy({left:-t(),behavior:"smooth"})}),i&&i.addEventListener("click",()=>{s.scrollBy({left:t(),behavior:"smooth"})})})},te=()=>{let e=o("[data-bg-sticky-cta]");if(!e)return;let s=o("[data-bg-sticky-cta-button]",e),t=o("[data-bg-sticky-cta-close]",e),n=typeof window.matchMedia=="function"?window.matchMedia("(max-width: 767px)"):null,i=e.getAttribute("data-enabled")==="true",c=e.getAttribute("data-show-desktop")!=="false",f=e.getAttribute("data-show-mobile")!=="false",b=parseInt(e.getAttribute("data-delay"),10),g=!1,w=!1,k=null,a=!1;b=Number.isNaN(b)?0:Math.max(0,b);let u=(d,L)=>{a=!0,e.setAttribute(d,L),setTimeout(()=>{a=!1},0)},X=d=>{a=!0,e.removeAttribute(d),setTimeout(()=>{a=!1},0)},G=()=>n&&n.matches?f:c,E=d=>{d?e.classList.add("sticky-cta--device-hidden"):e.classList.remove("sticky-cta--device-hidden")},A=(d=!1)=>{window.clearTimeout(k),e.classList.remove("visible"),e.setAttribute("aria-hidden","true"),d&&u("hidden","hidden")},M=()=>{!i||g||!G()||(X("hidden"),e.setAttribute("aria-hidden","false"),E(!1),requestAnimationFrame(()=>{e.classList.add("visible")}),w=!0)},F=()=>{if(window.clearTimeout(k),!i||g){A(!0);return}if(!G()){E(!0),A(!0);return}E(!1),X("hidden"),e.setAttribute("aria-hidden","true"),e.classList.remove("visible"),k=window.setTimeout(M,b)},H=()=>{let d=e.getAttribute("data-enabled")==="true";d!==i&&(i=d,i&&(g=!1,w=!1,X("hidden"))),c=e.getAttribute("data-show-desktop")!=="false",f=e.getAttribute("data-show-mobile")!=="false";let L=parseInt(e.getAttribute("data-delay"),10);b=Number.isNaN(L)?0:Math.max(0,L);let _=G();if(E(!_),!i||g){A(!0);return}if(!_){A(!0);return}if(X("hidden"),w){e.classList.contains("visible")?e.setAttribute("aria-hidden","false"):M();return}F()};if(H(),i&&!g&&!w&&F(),t&&t.addEventListener("click",()=>{g=!0,A(!0)}),s&&s.addEventListener("click",()=>{s.getAttribute("href")&&(g=!0,A(!0))}),new MutationObserver(d=>{let L=!1;d.forEach(_=>{if(_.type!=="attributes")return;let T=_.attributeName;(T==="data-enabled"||T==="data-delay"||T==="data-show-desktop"||T==="data-show-mobile"||T==="hidden")&&(L=!0)}),L&&(a||H())}).observe(e,{attributes:!0}),n){let d=()=>{if(i){if(!G()){E(!0),A(!0);return}E(!1),!g&&(w?M():F())}};typeof n.addEventListener=="function"?n.addEventListener("change",d):typeof n.addListener=="function"&&n.addListener(d)}},j=()=>{Y(),P(),V(),z(),Z(),ee(),te(),l&&(l.classList.remove("bg-ui-loading"),l.classList.add("bg-ui-ready"))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",j):j()})();})();
//# sourceMappingURL=theme.js.map
