(()=>{(()=>{let v=document.documentElement;v&&(v.classList.remove("no-js"),v.classList.add("js"));let f=document.body,a=(e,t=document)=>t.querySelector(e),c=(e,t=document)=>Array.from(t.querySelectorAll(e)),X=e=>typeof e!="string"?"":window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),E=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),b=null,o=a("[data-bg-nav]"),u=a("[data-bg-nav-toggle]"),g=a("[data-bg-nav-overlay]"),L=e=>{if(!o||e.key!=="Tab")return;let t=c(E,o);if(!t.length)return;let s=t[0],n=t[t.length-1];e.shiftKey&&document.activeElement===s?(e.preventDefault(),n.focus()):!e.shiftKey&&document.activeElement===n&&(e.preventDefault(),s.focus())},w=()=>{!o||!u||(o.classList.remove("is-open"),o.removeAttribute("role"),o.removeAttribute("aria-modal"),o.removeEventListener("keydown",L),u.setAttribute("aria-expanded","false"),g&&g.classList.remove("is-active"),f&&f.classList.remove("is-nav-open"),b&&typeof b.focus=="function"&&b.focus({preventScroll:!0}))},S=()=>{if(!o||!u)return;b=document.activeElement,o.classList.add("is-open"),o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),o.addEventListener("keydown",L),u.setAttribute("aria-expanded","true"),g&&g.classList.add("is-active"),f&&f.classList.add("is-nav-open");let e=c(E,o);e.length&&e[0].focus()};u&&o&&u.addEventListener("click",()=>{o.classList.contains("is-open")?w():S()}),g&&g.addEventListener("click",w),o&&c("a",o).forEach(e=>{e.addEventListener("click",()=>{o.classList.contains("is-open")&&w()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&o&&o.classList.contains("is-open")&&w()});let G=()=>{let e=c("[data-bg-animate]");if(!e.length)return;if(!("IntersectionObserver"in window)){e.forEach(s=>s.classList.add("is-visible"));return}let t=new IntersectionObserver((s,n)=>{s.forEach(r=>{r.isIntersecting&&(r.target.classList.add("is-visible"),n.unobserve(r.target))})},{threshold:.15});e.forEach(s=>t.observe(s))},J=()=>{document.addEventListener("click",e=>{let t=e.target.closest("[data-bg-scroll]");if(!t)return;let s=t.getAttribute("data-bg-scroll")||t.getAttribute("href");if(!s||!s.startsWith("#"))return;let n=document.querySelector(s);if(!n)return;e.preventDefault();let r=n.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:r,behavior:"smooth"}),n.setAttribute("tabindex","-1"),n.focus({preventScroll:!0})})},h=e=>{if(!e)return;let t=e.getAttribute("data-bg-toggle");if(!t)return;let s=a(`[data-bg-target="${X(t)}"]`);s&&(e.checked?s.removeAttribute("hidden"):(s.setAttribute("hidden",""),c("input, select, textarea",s).forEach(n=>{"value"in n&&(n.value="")})))},m=(e,t,s)=>{if(!e)return;if(!t){e.innerHTML="";return}let n=["bg-enrollment-notice"];s&&n.push(`bg-enrollment-notice--${s}`),e.innerHTML=`<div class="${n.join(" ")}">${t}</div>`},k=()=>{let e=c(".course-sidebar__card--form, .bg-enrollment");e.length&&e.forEach(t=>{let s=a(".bg-enrollment__form",t),n=a(".bg-enrollment__messages",t),r=a(".bg-enrollment__submit",t),d=a("[data-bg-toggle]",s);if(!s||!r)return;let A=r.dataset.defaultLabel||r.textContent||"";d&&(h(d),d.addEventListener("change",()=>h(d))),s.addEventListener("submit",F=>{F.preventDefault();let _=new FormData(s);window.BG_AJAX&&window.BG_AJAX.nonce&&_.append("security",window.BG_AJAX.nonce);let y=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.sending?window.BG_AJAX.messages.sending:A||"";r.disabled=!0,y&&(r.textContent=y),m(n,"");let B=window.BG_AJAX&&window.BG_AJAX.ajax_url||s.getAttribute("action");if(!B){let i=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";m(n,i,"error"),r.disabled=!1,r.textContent=A;return}fetch(B,{method:"POST",body:_,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(async i=>{let l=await i.json().catch(()=>null);if(!i.ok)throw l;return l}).then(i=>{if(i&&i.success){let l=i.data&&i.data.message?i.data.message:"";m(n,l,"success"),s.reset(),d&&(d.checked=!1,h(d))}else{let l=i&&i.data&&i.data.message?i.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";m(n,l,"error")}}).catch(i=>{let l="";i&&i.data&&i.data.message?l=i.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError&&(l=window.BG_AJAX.messages.genericError),m(n,l,"error")}).finally(()=>{r.disabled=!1,r.textContent=A})})})},x=()=>{let e=a("[data-bg-filter-form]");e&&(c("[data-bg-filter-select]",e).forEach(t=>{t.addEventListener("change",()=>e.submit())}),c("[data-bg-filter-reset]",e).forEach(t=>{t.addEventListener("click",()=>{c("select",e).forEach(n=>{n.value=""});let s=e.getAttribute("action");if(s)window.location.href=s;else{let n=new URL(window.location.href);n.search="",window.location.replace(n.toString())}})}))},C=()=>{c("[data-bg-carousel]").forEach(e=>{let t=a("[data-bg-carousel-track]",e);if(!t)return;let s=()=>{let d=a(".bg-card",t);return d?d.getBoundingClientRect().width+24:320},n=a("[data-bg-carousel-prev]",e),r=a("[data-bg-carousel-next]",e);n&&n.addEventListener("click",()=>{t.scrollBy({left:-s(),behavior:"smooth"})}),r&&r.addEventListener("click",()=>{t.scrollBy({left:s(),behavior:"smooth"})})})},p=()=>{G(),J(),k(),x(),C(),f&&(f.classList.remove("bg-ui-loading"),f.classList.add("bg-ui-ready"))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p()})();})();
//# sourceMappingURL=theme.js.map
