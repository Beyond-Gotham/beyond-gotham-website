(()=>{(()=>{let p=document.documentElement;p&&(p.classList.remove("no-js"),p.classList.add("js"));let g=document.body,H="themeMode",$=["theme-light","theme-dark"],R=()=>{try{let e=window.localStorage.getItem(H);return e==="dark"||e==="light"?e:null}catch(e){return null}},se=()=>{if(window.matchMedia)try{return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch(e){return"light"}return"light"},j="light",N=(e,{persist:s=!0}={})=>{let t=e==="dark"?"dark":"light";if(p&&(p.classList.remove(...$),p.classList.add(`theme-${t}`),p.setAttribute("data-theme",t)),g&&(g.classList.remove(...$),g.classList.add(`theme-${t}`)),s)try{window.localStorage.setItem(H,t)}catch(r){}j=t,ne(t)},c=(e,s=document)=>s.querySelector(e),h=(e,s=document)=>Array.from(s.querySelectorAll(e)),re=e=>typeof e!="string"?"":window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),U=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),F=null,o=c("[data-bg-nav]"),k=c("[data-bg-nav-toggle]"),S=c("[data-bg-nav-overlay]"),w=c("[data-bg-theme-toggle]"),Y=w?w.querySelector("[data-theme-toggle-label]"):null,ne=e=>{if(!w)return;let s=e==="dark"?"light":"dark",t=s==="dark"?"data-dark-label":"data-light-label",r=w.getAttribute("data-toggle-label")||"",m=w.getAttribute(t)||""||(s==="dark"?"Dark":"Light");Y&&(Y.textContent=m);let v=r?`${r} \u2013 ${m}`.trim():m;v&&w.setAttribute("aria-label",v),w.setAttribute("aria-pressed",e==="dark"?"true":"false")};(()=>{let e=R(),s=e||se();if(N(s,{persist:!!e}),!e&&window.matchMedia)try{let t=window.matchMedia("(prefers-color-scheme: dark)"),r=i=>{R()||N(i.matches?"dark":"light",{persist:!1})};typeof t.addEventListener=="function"?t.addEventListener("change",r):typeof t.addListener=="function"&&t.addListener(r)}catch(t){}w&&w.addEventListener("click",()=>{N(j==="dark"?"light":"dark",{persist:!0})})})();let K=e=>{if(!o||e.key!=="Tab")return;let s=h(U,o);if(!s.length)return;let t=s[0],r=s[s.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),r.focus()):!e.shiftKey&&document.activeElement===r&&(e.preventDefault(),t.focus())},D=()=>{!o||!k||(o.classList.remove("is-open"),o.removeAttribute("role"),o.removeAttribute("aria-modal"),o.removeEventListener("keydown",K),k.setAttribute("aria-expanded","false"),S&&S.classList.remove("is-active"),g&&g.classList.remove("is-nav-open"),F&&typeof F.focus=="function"&&F.focus({preventScroll:!0}))},ie=()=>{if(!o||!k)return;F=document.activeElement,o.classList.add("is-open"),o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),o.addEventListener("keydown",K),k.setAttribute("aria-expanded","true"),S&&S.classList.add("is-active"),g&&g.classList.add("is-nav-open");let e=h(U,o);e.length&&e[0].focus()};k&&o&&k.addEventListener("click",()=>{o.classList.contains("is-open")?D():ie()}),S&&S.addEventListener("click",D),o&&h("a",o).forEach(e=>{e.addEventListener("click",()=>{o.classList.contains("is-open")&&D()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&o&&o.classList.contains("is-open")&&D()});let ae=()=>{let e=h("[data-bg-animate]");if(!e.length)return;if(!("IntersectionObserver"in window)){e.forEach(t=>t.classList.add("is-visible"));return}let s=new IntersectionObserver((t,r)=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),r.unobserve(i.target))})},{threshold:.15});e.forEach(t=>s.observe(t))},oe=()=>{document.addEventListener("click",e=>{let s=e.target.closest("[data-bg-scroll]");if(!s)return;let t=s.getAttribute("data-bg-scroll")||s.getAttribute("href");if(!t||!t.startsWith("#"))return;let r=document.querySelector(t);if(!r)return;e.preventDefault();let i=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"}),r.setAttribute("tabindex","-1"),r.focus({preventScroll:!0})})},O=e=>{if(!e)return;let s=e.getAttribute("data-bg-toggle");if(!s)return;let t=c(`[data-bg-target="${re(s)}"]`);t&&(e.checked?t.removeAttribute("hidden"):(t.setAttribute("hidden",""),h("input, select, textarea",t).forEach(r=>{"value"in r&&(r.value="")})))},M=(e,s,t)=>{if(!e)return;if(!s){e.innerHTML="";return}let r=["bg-enrollment-notice"];t&&r.push(`bg-enrollment-notice--${t}`),e.innerHTML=`<div class="${r.join(" ")}">${s}</div>`},ce=()=>{let e=h(".course-sidebar__card--form, .bg-enrollment");e.length&&e.forEach(s=>{let t=c(".bg-enrollment__form",s),r=c(".bg-enrollment__messages",s),i=c(".bg-enrollment__submit",s),d=c("[data-bg-toggle]",t);if(!t||!i)return;let m=i.dataset.defaultLabel||i.textContent||"";d&&(O(d),d.addEventListener("change",()=>O(d))),t.addEventListener("submit",v=>{v.preventDefault();let y=new FormData(t);window.BG_AJAX&&window.BG_AJAX.nonce&&y.append("security",window.BG_AJAX.nonce);let T=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.sending?window.BG_AJAX.messages.sending:m||"";i.disabled=!0,T&&(i.textContent=T),M(r,"");let _=window.BG_AJAX&&window.BG_AJAX.ajax_url||t.getAttribute("action");if(!_){let a=window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";M(r,a,"error"),i.disabled=!1,i.textContent=m;return}fetch(_,{method:"POST",body:y,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(async a=>{let l=await a.json().catch(()=>null);if(!a.ok)throw l;return l}).then(a=>{if(a&&a.success){let l=a.data&&a.data.message?a.data.message:"";M(r,l,"success"),t.reset(),d&&(d.checked=!1,O(d))}else{let l=a&&a.data&&a.data.message?a.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError||"";M(r,l,"error")}}).catch(a=>{let l="";a&&a.data&&a.data.message?l=a.data.message:window.BG_AJAX&&window.BG_AJAX.messages&&window.BG_AJAX.messages.genericError&&(l=window.BG_AJAX.messages.genericError),M(r,l,"error")}).finally(()=>{i.disabled=!1,i.textContent=m})})})},le=()=>{let e=c("[data-bg-filter-form]");e&&(h("[data-bg-filter-select]",e).forEach(s=>{s.addEventListener("change",()=>e.submit())}),h("[data-bg-filter-reset]",e).forEach(s=>{s.addEventListener("click",()=>{h("select",e).forEach(r=>{r.value=""});let t=e.getAttribute("action");if(t)window.location.href=t;else{let r=new URL(window.location.href);r.search="",window.location.replace(r.toString())}})}))},de=()=>{let e=c(".site-header");if(!e)return;let s=()=>{if(!g||!g.classList.contains("bg-has-sticky-header")){e.classList.remove("is-condensed");return}(window.pageYOffset||document.documentElement.scrollTop||0)>80?e.classList.add("is-condensed"):e.classList.remove("is-condensed")};s(),window.addEventListener("scroll",s,{passive:!0}),document.addEventListener("bg:navStickyToggle",s)},ue=()=>{h("[data-bg-carousel]").forEach(e=>{let s=c("[data-bg-carousel-track]",e);if(!s)return;let t=()=>{let d=c(".bg-card",s);return d?d.getBoundingClientRect().width+24:320},r=c("[data-bg-carousel-prev]",e),i=c("[data-bg-carousel-next]",e);r&&r.addEventListener("click",()=>{s.scrollBy({left:-t(),behavior:"smooth"})}),i&&i.addEventListener("click",()=>{s.scrollBy({left:t(),behavior:"smooth"})})})},fe=()=>{let e=c("[data-bg-sticky-cta]");if(!e)return;let s=c("[data-bg-sticky-cta-button]",e),t=c("[data-bg-sticky-cta-close]",e),r=typeof window.matchMedia=="function"?window.matchMedia("(max-width: 767px)"):null,i=e.getAttribute("data-enabled")==="true",d=e.getAttribute("data-show-desktop")!=="false",m=e.getAttribute("data-show-mobile")!=="false",v=0,y="delay",T=50,_="",a=!1,l=!1,I=null,X=!1,x=null,G=null,Q=()=>{let n=parseInt(e.getAttribute("data-delay"),10);return Number.isNaN(n)?0:Math.max(0,n)},P=()=>{let n=(e.getAttribute("data-trigger")||"").toLowerCase();return n==="scroll"||n==="element"?n:"delay"},V=()=>{let n=parseFloat(e.getAttribute("data-scroll-depth"));return Number.isNaN(n)?50:Math.max(0,Math.min(100,n))},z=()=>{let n=e.getAttribute("data-trigger-selector");return typeof n=="string"?n.trim():""};v=Q(),y=P(),T=V(),_=z();let ge=(n,u)=>{X=!0,e.setAttribute(n,u),setTimeout(()=>{X=!1},0)},J=n=>{X=!0,e.removeAttribute(n),setTimeout(()=>{X=!1},0)},B=()=>r&&r.matches?m:d,L=n=>{n?e.classList.add("sticky-cta--device-hidden"):e.classList.remove("sticky-cta--device-hidden")},C=()=>{x&&(window.removeEventListener("scroll",x),x=null),G&&(G.disconnect(),G=null)},A=(n=!1)=>{window.clearTimeout(I),e.classList.remove("visible"),e.setAttribute("aria-hidden","true"),n&&(C(),ge("hidden","hidden"))},q=()=>{!i||a||!B()||(C(),J("hidden"),e.setAttribute("aria-hidden","false"),L(!1),requestAnimationFrame(()=>{e.classList.add("visible")}),l=!0)},E=()=>{if(window.clearTimeout(I),!i||a){A(!0);return}if(!B()){L(!0),A(!0);return}if(L(!1),J("hidden"),e.setAttribute("aria-hidden","true"),e.classList.remove("visible"),v<=0){q();return}I=window.setTimeout(q,v)},me=()=>{let n=Math.max(0,Math.min(1,T/100));if(n<=0){E();return}let u=()=>{if(!i||a||l||!B())return;let b=document.documentElement,f=document.body,we=window.scrollY||window.pageYOffset||(b?b.scrollTop:0)||0,ve=b?b.scrollHeight:0,Ae=f?f.scrollHeight:0,te=Math.max(ve,Ae)-window.innerHeight;(te>0?we/te:1)>=n&&(C(),E())};x=u;try{window.addEventListener("scroll",x,{passive:!0})}catch(b){window.addEventListener("scroll",x)}u()},be=()=>{let n=_;if(!n){E();return}let u=null;try{u=document.querySelector(n)}catch(b){u=null}if(!u){E();return}if(typeof window.IntersectionObserver!="function"){E();return}G=new IntersectionObserver(b=>{b.forEach(f=>{f.isIntersecting&&(C(),E())})}),G.observe(u)},he=()=>{L(!1),J("hidden"),e.setAttribute("aria-hidden","true"),e.classList.remove("visible")},Z=()=>{if(window.clearTimeout(I),C(),!i||a){A(!0);return}if(!B()){L(!0),A(!0);return}if(he(),y==="scroll"){me();return}if(y==="element"){be();return}E()},ee=()=>{let n=e.getAttribute("data-enabled")==="true";n!==i&&(i=n,i&&(a=!1,l=!1,J("hidden"))),d=e.getAttribute("data-show-desktop")!=="false",m=e.getAttribute("data-show-mobile")!=="false",v=Q(),y=P(),T=V(),_=z();let u=B();if(L(!u),!i||a){A(!0);return}if(!u){A(!0);return}if(J("hidden"),l){e.classList.contains("visible")?e.setAttribute("aria-hidden","false"):q();return}Z()};if(ee(),t&&t.addEventListener("click",()=>{a=!0,A(!0)}),s&&s.addEventListener("click",()=>{s.getAttribute("href")&&(a=!0,A(!0))}),new MutationObserver(n=>{let u=!1;n.forEach(b=>{if(b.type!=="attributes")return;let f=b.attributeName;(f==="data-enabled"||f==="data-delay"||f==="data-trigger"||f==="data-scroll-depth"||f==="data-trigger-selector"||f==="data-show-desktop"||f==="data-show-mobile"||f==="hidden")&&(u=!0)}),u&&(X||ee())}).observe(e,{attributes:!0}),r){let n=()=>{if(i){if(!B()){L(!0),A(!0);return}L(!1),!a&&(l?q():Z())}};typeof r.addEventListener=="function"?r.addEventListener("change",n):typeof r.addListener=="function"&&r.addListener(n)}},W=()=>{ae(),oe(),ce(),le(),de(),ue(),fe(),g&&(g.classList.remove("bg-ui-loading"),g.classList.add("bg-ui-ready"))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",W):W()})();})();
//# sourceMappingURL=theme.js.map
